<!DOCTYPE html>
<html lang="ko">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <title>ë°€í¬í‹° ê³ ê°ì„¼í„° ë¶ˆë§Œ ê°ì§€ ì‹œìŠ¤í…œ</title>
Â  Â  <link rel="manifest" href="manifest.json">
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Noto Sans KR', sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #f4f6f8;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  Â  Â  padding: 0 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  header {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #003366, #00509e);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  font-size: 1.8em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  border-radius: 0 0 12px 12px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  main {
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .notice {
Â  Â  Â  Â  Â  Â  background-color: #f9fafb;
Â  Â  Â  Â  Â  Â  border-left: 5px solid #00509e;
Â  Â  Â  Â  Â  Â  padding: 15px 20px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  font-size: 0.95em;
Â  Â  Â  Â  Â  Â  line-height: 1.6;
Â  Â  Â  Â  }
Â  Â  Â  Â  .input-area {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  min-height: 150px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  font-size: 0.95em;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  Â  Â  white-space: pre-wrap;
Â  Â  Â  Â  Â  Â  word-break: break-word;
Â  Â  Â  Â  }
Â  Â  Â  Â  .result {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .complaint {
Â  Â  Â  Â  Â  Â  background-color: #fff0f0;
Â  Â  Â  Â  Â  Â  border: 1px solid #c0392b;
Â  Â  Â  Â  Â  Â  color: #c0392b;
Â  Â  Â  Â  }
Â  Â  Â  Â  .normal {
Â  Â  Â  Â  Â  Â  background-color: #e6f4ea;
Â  Â  Â  Â  Â  Â  border: 1px solid #2e7d32;
Â  Â  Â  Â  Â  Â  color: #1b5e20;
Â  Â  Â  Â  }
Â  Â  Â  Â  .keywords {
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  font-size: 0.95em;
Â  Â  Â  Â  }
Â  Â  Â  Â  .keyword {
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  Â  Â  background-color: #ffcccc;
Â  Â  Â  Â  Â  Â  color: #900;
Â  Â  Â  Â  Â  Â  padding: 4px 8px;
Â  Â  Â  Â  Â  Â  margin: 4px;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  font-weight: normal;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-size: 0.95em;
Â  Â  Â  Â  }
Â  Â  Â  Â  .keyword-desc {
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  background: #f1f1f1;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  #securityStatus {
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 0.85em;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  background-color: #003366;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 12px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 0 0 12px 12px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #installPopup {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border: 2px solid #00509e;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
Â  Â  Â  Â  Â  Â  z-index: 9999;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  #installPopup button {
Â  Â  Â  Â  Â  Â  margin: 5px;
Â  Â  Â  Â  Â  Â  padding: 8px 16px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â  #confirmInstall {
Â  Â  Â  Â  Â  Â  background: #00509e;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }
Â  Â  Â  Â  #cancelInstall {
Â  Â  Â  Â  Â  Â  background: #ccc;
Â  Â  Â  Â  }
Â  Â  Â  Â  .type-recommendation {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  background-color: #e6f7ff;
Â  Â  Â  Â  Â  Â  border: 1px solid #1890ff;
Â  Â  Â  Â  }
Â  Â  Â  Â  .type-recommendation h3 {
Â  Â  Â  Â  Â  Â  margin-top: 0;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  color: #00509e;
Â  Â  Â  Â  }
Â  Â  Â  Â  .type-recommendation p {
Â  Â  Â  Â  Â  Â  margin: 5px 0;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="container">
Â  Â  Â  Â  <header>ë°€í¬í‹° ê³ ê°ì„¼í„° ë¶ˆë§Œ ê°ì§€ ì‹œìŠ¤í…œ</header>
Â  Â  Â  Â  <main>
Â  Â  Â  Â  Â  Â  <div class="notice">
Â  Â  Â  Â  Â  Â  Â  Â  ìƒë‹´ ë‚´ìš©ì„ ì…ë ¥í•˜ë©´, ë¶ˆë§Œìœ¼ë¡œ ì˜ì‹¬ë˜ëŠ” í‘œí˜„ê³¼ í•¨ê»˜ <br>
Â  Â  Â  Â  Â  Â  Â  Â  ê°€ì¥ ê´€ë ¨ì„± ë†’ì€ **ìƒë‹´ ìœ í˜•(VOC)**ì„ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="inputArea" class="input-area" contenteditable="true" spellcheck="false"></div>

Â  Â  Â  Â  Â  Â  <div id="resultBox" class="result"></div>
Â  Â  Â  Â  Â  Â  <div id="keywordList" class="keywords"></div>
Â  Â  Â  Â  Â  Â  <div id="keywordDesc" class="keyword-desc"></div>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <div id="typeRecommendationBox" class="type-recommendation" style="display:none;">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>ì¶”ì²œ ìƒë‹´ ìœ í˜• (ìƒìœ„ 3ê°œ)</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="recommendationList"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </main>

Â  Â  Â  Â  <div id="securityStatus">ğŸ”’ ë³´ì•ˆ ìƒíƒœ: ì•ˆì „ â€” ì™¸ë¶€ ì „ì†¡ ì—†ìŒ</div>
Â  Â  </div>

Â  Â  <div id="installPopup">
Â  Â  Â  Â  <p style="font-size:1.1em; margin-bottom:15px;">ğŸ“² ì´ ì•±ì„ ì„¤ì¹˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
Â  Â  Â  Â  <button id="confirmInstall">ì„¤ì¹˜</button>
Â  Â  Â  Â  <button id="cancelInstall">ì·¨ì†Œ</button>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  const inputArea = document.getElementById('inputArea');
Â  Â  Â  Â  const resultBox = document.getElementById('resultBox');
Â  Â  Â  Â  const keywordList = document.getElementById('keywordList');
Â  Â  Â  Â  const keywordDescBox = document.getElementById('keywordDesc');
Â  Â  Â  Â  const typeRecommendationBox = document.getElementById('typeRecommendationBox');
Â  Â  Â  Â  const recommendationList = document.getElementById('recommendationList');

Â  Â  Â  Â  // ì—‘ì…€ íŒŒì¼ì—ì„œ ì¶”ì¶œí•œ í‚¤ì›Œë“œ ë°ì´í„° (Aì—´, Bì—´, Cì—´)
Â  Â  Â  Â  const complaintKeywords = [
Â  Â  Â  Â  Â  Â  "ë¶ˆë§Œ", "ë¶ˆì¾Œ", "í•­ì˜", "ì§œì¦", "ì‹¤ë§", "ë¶ˆì¹œì ˆ",
Â  Â  Â  Â  Â  Â  "ê¸°ë¶„ ë‚˜ë¹´", "ì–¸ì§¢", "ë¬´ë¡€", "ë¶€ë‹¹", "ê¸°ë¶„ ìƒí–ˆ", "ê°•ì„±",
Â  Â  Â  Â  Â  Â  "ì‹ ê³ ", "ê²½ì°°", "ì†Œë³´ì›", "ì†Œë¹„ìë³´í˜¸ì›", "ì†Œë¹„ì ë³´í˜¸ì›",
Â  Â  Â  Â  Â  Â  "ìš•ì„¤", "ìµœì•…", "ë²•ì ëŒ€ì‘"
Â  Â  Â  Â  ];
Â  Â  Â  Â  
Â  Â  Â  Â  const typeKeywords = [
Â  Â  Â  Â  Â  Â  { type: "í•™ìŠµ-êµì¬/ìë£Œ", sub: "êµì¬/ìë£Œ", keywords: ["ë°€í¬T", "ë°€í¬í‹°", "ë°€í¬ í‹°", "êµì¬", "êµêµ¬", "ì›Œí¬ë¶", "ë¬¸ì œì§‘", "ë‹¨ì›í‰ê°€", "í‰ê°€", "ì‹œí—˜", "ë¬¸ì œ"] },
Â  Â  Â  Â  Â  Â  { type: "í•™ìŠµ-ì»¨í…ì¸ /ê°•ì˜", sub: "ì»¨í…ì¸ /ê°•ì˜", keywords: ["ë°€í¬T", "ë°€í¬í‹°", "ë°€í¬ í‹°", "ê°•ì˜", "ì˜ìƒ", "ìˆ˜ì—…", "ì»¨í…ì¸ ", "ì»¨í…íŠ¸", "ë™ì˜ìƒ", "ì˜ìƒì‹œì²­", "ì§„ë„"] },
Â  Â  Â  Â  Â  Â  { type: "í•™ìŠµ-í•™ìŠµê³„íš/ìŠ¤ì¼€ì¤„", sub: "í•™ìŠµê³„íš/ìŠ¤ì¼€ì¤„", keywords: ["ë°€í¬T", "ë°€í¬í‹°", "ë°€í¬ í‹°", "í•™ìŠµê³„íš", "ê³„íš", "ìŠ¤ì¼€ì¤„", "ì¼ì •", "í•™ìŠµì‹œê°„", "ê³µë¶€ì‹œê°„", "ê³µë¶€ëŸ‰", "ê³„íší‘œ"] },
Â  Â  Â  Â  Â  Â  { type: "í•™ìŠµ-í•™ìŠµíš¨ê³¼/ë§Œì¡±ë„", sub: "í•™ìŠµíš¨ê³¼/ë§Œì¡±ë„", keywords: ["í•™ìŠµ", "íš¨ê³¼", "ì„±ì ", "í–¥ìƒ", "ì„±ì·¨", "ë„ì›€", "ë§Œì¡±ë„", "ì˜í•˜ëŠ”ì§€"] },
Â  Â  Â  Â  Â  Â  { type: "í•™ìŠµ-í•™ìŠµë°©ë²•/í™œìš©", sub: "í•™ìŠµë°©ë²•/í™œìš©", keywords: ["í•™ìŠµë°©ë²•", "í™œìš©ë²•", "í™œìš©", "ê³µë¶€ë²•", "í•™ìŠµë²•", "í•™ìŠµë°©ì‹"] },
Â  Â  Â  Â  Â  Â  { type: "í•™ìŠµ-ì§„ë¡œ/ì§„í•™", sub: "ì§„ë¡œ/ì§„í•™", keywords: ["ì§„ë¡œ", "ì§„í•™", "ê³ ë“±í•™êµ", "ëŒ€í•™êµ", "ì…ì‹œ", "ì§„ë¡œìƒë‹´"] },
Â  Â  Â  Â  Â  Â  { type: "í•™ìŠµ-ê¸°íƒ€", sub: "ê¸°íƒ€", keywords: ["ê³µë¶€", "í•™ìŠµ", "ìˆ™ì œ", "ê³¼ì œ"] },
Â  Â  Â  Â  Â  Â  { type: "êµì‚¬ê´€ë ¨-ê´€ë¦¬êµì‚¬", sub: "ê´€ë¦¬êµì‚¬", keywords: ["ê´€ë¦¬êµì‚¬", "ë‹´ì„ì„ ìƒë‹˜", "ì„ ìƒë‹˜", "ì„ ìƒ", "ì½”ì¹­", "í•™ìŠµìƒë‹´", "ìƒë‹´", "ê´€ë¦¬"] },
Â  Â  Â  Â  Â  Â  { type: "êµì‚¬ê´€ë ¨-í™”ìƒêµì‚¬", sub: "í™”ìƒêµì‚¬", keywords: ["í™”ìƒ", "í™”ìƒìˆ˜ì—…", "í™”ìƒìˆ˜ì—…", "í™”ìƒìˆ˜ì—…", "í™”ìƒì„ ìƒë‹˜", "ë¼ì´ë¸Œ", "í™”ìƒì½”ì¹­"] },
Â  Â  Â  Â  Â  Â  { type: "êµì‚¬ê´€ë ¨-ì „í™”ìƒë‹´", sub: "ì „í™”ìƒë‹´", keywords: ["ì „í™”", "ì „í™”ìƒë‹´", "ì „í™”ì„ ìƒë‹˜", "ì „í™”ì½”ì¹­", "ì „í™”ìƒë‹´"] },
Â  Â  Â  Â  Â  Â  { type: "êµì‚¬ê´€ë ¨-ê¸°íƒ€", sub: "ê¸°íƒ€", keywords: ["êµì‚¬", "ì„ ìƒë‹˜", "ì„ ìƒ", "ì½”ì¹­", "ê´€ë¦¬"] },
Â  Â  Â  Â  Â  Â  { type: "ì‹œìŠ¤í…œ-ê¸°ê¸°/ê¸°ê³„", sub: "ê¸°ê¸°/ê¸°ê³„", keywords: ["ê¸°ê¸°", "ê¸°ê³„", "íŒ¨ë“œ", "íƒœë¸”ë¦¿", "ë…¸íŠ¸ë¶", "PC", "ì»´í“¨í„°", "íƒœë¸”ë¦¿PC"] },
Â  Â  Â  Â  Â  Â  { type: "ì‹œìŠ¤í…œ-ê³ ì¥/ì˜¤ë¥˜", sub: "ê³ ì¥/ì˜¤ë¥˜", keywords: ["ê³ ì¥", "ì˜¤ë¥˜", "ë²„ê·¸", "ë‹¤ìš´", "ë¨¹í†µ", "ì•ˆë¼", "ë©ˆì¶°"] },
Â  Â  Â  Â  Â  Â  { type: "ì‹œìŠ¤í…œ-ì–´í”Œ/ì†Œí”„íŠ¸ì›¨ì–´", sub: "ì–´í”Œ/ì†Œí”„íŠ¸ì›¨ì–´", keywords: ["ì•±", "ì–´í”Œ", "ì–´í”Œë¦¬ì¼€ì´ì…˜", "í”„ë¡œê·¸ë¨", "ì†Œí”„íŠ¸ì›¨ì–´", "ì–´í”Œ"] },
Â  Â  Â  Â  Â  Â  { type: "ì‹œìŠ¤í…œ-ë„¤íŠ¸ì›Œí¬/ì ‘ì†", sub: "ë„¤íŠ¸ì›Œí¬/ì ‘ì†", keywords: ["ì¸í„°ë„·", "ë„¤íŠ¸ì›Œí¬", "ì™€ì´íŒŒì´", "wifi", "ì ‘ì†", "ì—°ê²°", "ë°ì´í„°"] },
Â  Â  Â  Â  Â  Â  { type: "ì‹œìŠ¤í…œ-ê¸°íƒ€", sub: "ê¸°íƒ€", keywords: ["ì‹œìŠ¤í…œ", "ê¸°ëŠ¥", "ì¥ì• "] },
Â  Â  Â  Â  Â  Â  { type: "ê³„ì•½-ê°€ì…/ì—°ì¥", sub: "ê°€ì…/ì—°ì¥", keywords: ["ê°€ì…", "ì‹ ê·œ", "ì—°ì¥", "ì¬ê³„ì•½", "ì¬ê²°ì œ", "ì‹ ì²­"] },
Â  Â  Â  Â  Â  Â  { type: "ê³„ì•½-ì¤‘ë„í•´ì§€/í™˜ë¶ˆ", sub: "ì¤‘ë„í•´ì§€/í™˜ë¶ˆ", keywords: ["ì¤‘ë„í•´ì§€", "ìœ„ì•½ê¸ˆ", "í•´ì§€", "í™˜ë¶ˆ", "ì·¨ì†Œ", "í•´ì•½"] },
Â  Â  Â  Â  Â  Â  { type: "ê³„ì•½-ê³„ì•½ë³€ê²½", sub: "ê³„ì•½ë³€ê²½", keywords: ["ê³„ì•½ë³€ê²½", "ë³€ê²½", "ìƒí’ˆë³€ê²½", "í•™ë…„ë³€ê²½", "ìˆ˜ì •"] },
Â  Â  Â  Â  Â  Â  { type: "ê³„ì•½-ê¸°íƒ€", sub: "ê¸°íƒ€", keywords: ["ê³„ì•½", "ì•½ê´€", "ì•½ì •", "ì•½ì •ê¸°ê°„"] },
Â  Â  Â  Â  Â  Â  { type: "ê²°ì œ-ê²°ì œ/ë‚©ë¶€", sub: "ê²°ì œ/ë‚©ë¶€", keywords: ["ê²°ì œ", "ë‚©ë¶€", "ìš”ê¸ˆ", "ì´ìš©ë£Œ", "ìˆ˜ê°•ë£Œ", "ì •ê¸°ê²°ì œ", "ìë™ì´ì²´", "ì¹´ë“œê²°ì œ"] },
Â  Â  Â  Â  Â  Â  { type: "ê²°ì œ-ë¯¸ë‚©/ì—°ì²´", sub: "ë¯¸ë‚©/ì—°ì²´", keywords: ["ë¯¸ë‚©", "ì—°ì²´", "ë°€ë¦°", "ëª»ëƒˆ"] },
Â  Â  Â  Â  Â  Â  { type: "ê²°ì œ-ì„¸ê¸ˆê³„ì‚°ì„œ/í˜„ê¸ˆì˜ìˆ˜ì¦", sub: "ì„¸ê¸ˆê³„ì‚°ì„œ/í˜„ê¸ˆì˜ìˆ˜ì¦", keywords: ["ì„¸ê¸ˆê³„ì‚°ì„œ", "í˜„ê¸ˆì˜ìˆ˜ì¦", "ì¦ë¹™ì„œë¥˜", "ì„œë¥˜"] },
Â  Â  Â  Â  Â  Â  { type: "ê²°ì œ-ê¸°íƒ€", sub: "ê¸°íƒ€", keywords: ["ì˜ìˆ˜ì¦", "ê²°ì œ", "ì§€ì¶œ"] },
Â  Â  Â  Â  Â  Â  { type: "ì´ë²¤íŠ¸/í™ë³´-ì´ë²¤íŠ¸/ê²½í’ˆ", sub: "ì´ë²¤íŠ¸/ê²½í’ˆ", keywords: ["ì´ë²¤íŠ¸", "ê²½í’ˆ", "ì°¸ì—¬", "ë‹¹ì²¨", "ì¶”ì²¨", "ì„ ë¬¼"] },
Â  Â  Â  Â  Â  Â  { type: "ì´ë²¤íŠ¸/í™ë³´-í™ë³´/ê´‘ê³ ", sub: "í™ë³´/ê´‘ê³ ", keywords: ["ê´‘ê³ ", "í™ë³´", "ë¬¸ì", "ì „í™”", "DM", "ìŠ¤íŒ¸", "ì—°ë½"] },
Â  Â  Â  Â  Â  Â  { type: "ì´ë²¤íŠ¸/í™ë³´-ê¸°íƒ€", sub: "ê¸°íƒ€", keywords: ["í–‰ì‚¬", "ë§ˆì¼€íŒ…"] },
Â  Â  Â  Â  Â  Â  { type: "ê¸°íƒ€", sub: "ê¸°íƒ€", keywords: ["ê¸°íƒ€"] }
Â  Â  Â  Â  ];
Â  Â  Â  Â  
Â  Â  Â  Â  const keywordDescriptions = {
Â  Â  Â  Â  Â  Â  "ë¶ˆë§Œ": "ì„œë¹„ìŠ¤ë‚˜ ì œí’ˆì— ëŒ€í•œ ì „ë°˜ì ì¸ ë¶ˆë§Œ í‘œí˜„ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ë¶ˆì¾Œ": "ê³ ê°ì´ ê¸°ë¶„ì´ ìƒí•˜ê±°ë‚˜ ë¶ˆì¾Œê°ì„ ëŠë‚€ ìƒí™©ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "í•­ì˜": "ë¬¸ì œ ì œê¸°ì™€ í•¨ê»˜ ì‹œì • ìš”êµ¬ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ì§œì¦": "ë¶ˆí¸Â·ë¶ˆë§Œì´ ê°ì •ì ìœ¼ë¡œ í‘œì¶œëœ ìƒíƒœì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ì‹¤ë§": "ê¸°ëŒ€ì— ë¯¸ì¹˜ì§€ ëª»í•´ ë¶€ì •ì  í‰ê°€ë¥¼ í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ë¶ˆì¹œì ˆ": "ì‘ëŒ€ íƒœë„ë‚˜ ì„œë¹„ìŠ¤ ë§¤ë„ˆì— ëŒ€í•œ ë¶€ì •ì  í”¼ë“œë°±ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ê¸°ë¶„ ë‚˜ë¹´": "ë°œì–¸Â·í–‰ë™ìœ¼ë¡œ ì¸í•´ ê°ì •ì´ ìƒí•œ ìƒíƒœì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ì–¸ì§¢": "ì‚¬ì†Œí•´ ë³´ì´ì§€ë§Œ ë¶ˆë§Œìœ¼ë¡œ ë²ˆì§ˆ ìˆ˜ ìˆëŠ” ê°ì • í‘œí˜„ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ë¬´ë¡€": "ì˜ˆì˜ ì—†ëŠ” íƒœë„ë‚˜ ë°œì–¸ì— ëŒ€í•œ ì§€ì ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ë¶€ë‹¹": "ë¶ˆê³µì •Â·ë¶€ì •í™•í•œ ì²˜ë¦¬ì— ëŒ€í•œ ë¬¸ì œ ì œê¸°ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ê¸°ë¶„ ìƒí–ˆ": "ê³ ê° ê°ì •ì´ í¬ê²Œ ìƒí•œ ìƒíƒœë¡œ, ì§„ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ê°•ì„±": "ê°•ê²½í•œ ì–´ì¡°ë¡œ ë¶ˆë§Œì„ ì œê¸°í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ì‹ ê³ ": "ì™¸ë¶€ ê¸°ê´€ì— ë¬¸ì œë¥¼ ì•Œë¦¬ê² ë‹¤ëŠ” ì˜ì‚¬ í‘œí˜„ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ê²½ì°°": "ë²•ì Â·í˜•ì‚¬ì  ì¡°ì¹˜ë¥¼ ì•”ì‹œí•˜ëŠ” ë°œì–¸ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ì†Œë³´ì›": "ì†Œë¹„ìë³´í˜¸ì›ì— ì‹ ê³  ì˜ì‚¬ë¥¼ ë°íˆëŠ” ê²½ìš°ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ì†Œë¹„ìë³´í˜¸ì›": "ì†Œë¹„ìë³´í˜¸ì›ì— ì‹ ê³  ì˜ì‚¬ë¥¼ ë°íˆëŠ” ê²½ìš°ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ì†Œë¹„ì ë³´í˜¸ì›": "ì†Œë¹„ìë³´í˜¸ì›ì— ì‹ ê³  ì˜ì‚¬ë¥¼ ë°íˆëŠ” ê²½ìš°ì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ìš•ì„¤": "ë¶€ì ì ˆí•œ ì–¸ì–´ ì‚¬ìš©ìœ¼ë¡œ ê°ì •ì´ ê²©í•´ì§„ ìƒíƒœì…ë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ìµœì•…": "ë§¤ìš° ê°•í•œ ë¶€ì • í‰ê°€ë¡œ, ë¶ˆë§Œ ê°•ë„ê°€ ë†’ìŠµë‹ˆë‹¤.",
Â  Â  Â  Â  Â  Â  "ë²•ì ëŒ€ì‘": "ë²•ì  ì ˆì°¨ë¥¼ ì§„í–‰í•˜ê² ë‹¤ëŠ” ì˜ì‚¬ í‘œí˜„ì…ë‹ˆë‹¤."
Â  Â  Â  Â  };

Â  Â  Â  Â  let isComposing = false;
Â  Â  Â  Â Â 
Â  Â  Â  Â  inputArea.addEventListener('compositionstart', () => { isComposing = true; });
Â  Â  Â  Â  inputArea.addEventListener('compositionend', () => {
Â  Â  Â  Â  Â  Â  isComposing = false;
Â  Â  Â  Â  Â  Â  processInput();
Â  Â  Â  Â  });

Â  Â  Â  Â  inputArea.addEventListener('input', () => {
Â  Â  Â  Â  Â  Â  if (!isComposing) {
Â  Â  Â  Â  Â  Â  Â  Â  processInput();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  inputArea.addEventListener('keydown', (e) => {
Â  Â  Â  Â  Â  Â  if (e.key === 'Enter') {
Â  Â  Â  Â  Â  Â  Â  Â  if (!isComposing) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.execCommand('insertLineBreak');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  processInput();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  Â  
Â  Â  Â  Â  function processInput() {
Â  Â  Â  Â  Â  Â  highlightComplaintKeywords();
Â  Â  Â  Â  Â  Â  analyzeAndRecommendType();
Â  Â  Â  Â  }

Â  Â  Â  Â  // ê¸°ì¡´ ë¶ˆë§Œ í‚¤ì›Œë“œ ê°ì§€ ë° í•˜ì´ë¼ì´íŒ… ê¸°ëŠ¥
Â  Â  Â  Â  function highlightComplaintKeywords() {
Â  Â  Â  Â  Â  Â  const caretOffset = getCaretCharacterOffsetWithin(inputArea);
Â  Â  Â  Â  Â  Â  const rawText = inputArea.textContent;
Â  Â  Â  Â  Â  Â  let keywordCounts = {};
Â  Â  Â  Â  Â  Â  let highlightedHtml = '';
Â  Â  Â  Â  Â  Â  let lastIndex = 0;

Â  Â  Â  Â  Â  Â  const matches = [...rawText.matchAll(new RegExp(complaintKeywords.join('|'), 'gi'))];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (matches.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  matches.forEach(match => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const keyword = match[0];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const index = match.index;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  highlightedHtml += escapeHTML(rawText.substring(lastIndex, index));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  highlightedHtml += `<span style="color:red;">${escapeHTML(keyword)}</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lastIndex = index + keyword.length;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keywordCounts[keyword] = (keywordCounts[keyword] || 0) + 1;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  highlightedHtml += escapeHTML(rawText.substring(lastIndex));
Â  Â  Â  Â  Â  Â  Â  Â  inputArea.innerHTML = highlightedHtml;
Â  Â  Â  Â  Â  Â  Â  Â  setCaretPosition(inputArea, caretOffset);
Â  Â  Â  Â  Â  Â  Â  Â  updateUIForComplaintState(keywordCounts);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  inputArea.innerHTML = escapeHTML(rawText);
Â  Â  Â  Â  Â  Â  Â  Â  setCaretPosition(inputArea, caretOffset);
Â  Â  Â  Â  Â  Â  Â  Â  updateUIForNormalState();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function escapeHTML(text) {
Â  Â  Â  Â  Â  Â  return text.replace(/&/g, '&amp;')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â .replace(/</g, '&lt;')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â .replace(/>/g, '&gt;');
Â  Â  Â  Â  }

Â  Â  Â  Â  // í‚¤ì›Œë“œ ë°œê²¬ ì‹œ UI ì—…ë°ì´íŠ¸
Â  Â  Â  Â  function updateUIForComplaintState(keywordCounts) {
Â  Â  Â  Â  Â  Â  inputArea.style.border = '1px solid red';
Â  Â  Â  Â  Â  Â  resultBox.className = 'result complaint';
Â  Â  Â  Â  Â  Â  resultBox.innerText = 'ğŸš¨ ë¶ˆë§Œ ì˜ì‹¬ í‘œí˜„ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.';
Â  Â  Â  Â  Â  Â  resultBox.style.display = 'block';

Â  Â  Â  Â  Â  Â  keywordList.innerHTML = '';
Â  Â  Â  Â  Â  Â  const foundKeywords = Object.keys(keywordCounts);
Â  Â  Â  Â  Â  Â  foundKeywords.forEach(k => {
Â  Â  Â  Â  Â  Â  Â  Â  const span = document.createElement('span');
Â  Â  Â  Â  Â  Â  Â  Â  span.className = 'keyword';
Â  Â  Â  Â  Â  Â  Â  Â  span.innerText = `${k}(${keywordCounts[k]})`;
Â  Â  Â  Â  Â  Â  Â  Â  span.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keywordDescBox.innerText = `ã€Œ${k}ã€: ${keywordDescriptions[k] || 'ì„¤ëª… ì—†ìŒ'}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keywordDescBox.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  keywordList.appendChild(span);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  const totalCount = Object.values(keywordCounts).reduce((a, b) => a + b, 0);
Â  Â  Â  Â  Â  Â  const summary = document.createElement('div');
Â  Â  Â  Â  Â  Â  summary.style.marginTop = '10px';
Â  Â  Â  Â  Â  Â  summary.style.fontWeight = 'bold';
Â  Â  Â  Â  Â  Â  summary.style.fontSize = '1.1em';
Â  Â  Â  Â  Â  Â  summary.textContent = `ì´ ê°ì§€ ë‹¨ì–´ ìˆ˜: ${totalCount}ê°œ`;
Â  Â  Â  Â  Â  Â  keywordList.appendChild(summary);
Â  Â  Â  Â  }

Â  Â  Â  Â  // í‚¤ì›Œë“œ ì—†ì„ ì‹œ UI ì—…ë°ì´íŠ¸
Â  Â  Â  Â  function updateUIForNormalState() {
Â  Â  Â  Â  Â  Â  inputArea.style.border = '1px solid #ccc';
Â  Â  Â  Â  Â  Â  resultBox.className = 'result normal';
Â  Â  Â  Â  Â  Â  resultBox.innerText = 'âœ… ë¶ˆë§Œ í‘œí˜„ì´ ê°ì§€ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.';
Â  Â  Â  Â  Â  Â  resultBox.style.display = 'block';
Â  Â  Â  Â  Â  Â  keywordList.innerHTML = '';
Â  Â  Â  Â  Â  Â  keywordDescBox.style.display = 'none';
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // âœ¨ ìƒˆë¡œìš´ ê¸°ëŠ¥: ìƒë‹´ ìœ í˜• ì¶”ì²œ
Â  Â  Â  Â  function analyzeAndRecommendType() {
Â  Â  Â  Â  Â  Â  const text = inputArea.textContent.trim();
Â  Â  Â  Â  Â  Â  if (text.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  typeRecommendationBox.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const scores = typeKeywords.map(item => {
Â  Â  Â  Â  Â  Â  Â  Â  let score = 0;
Â  Â  Â  Â  Â  Â  Â  Â  item.keywords.forEach(keyword => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ê³µë°±ì„ ì œê±°í•˜ê³  ê²€ìƒ‰í•˜ë©´ ë” ì •í™•í•œ ë§¤ì¹­ ê°€ëŠ¥
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cleanedText = text.replace(/\s+/g, '');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cleanedKeyword = keyword.replace(/\s+/g, '');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const regex = new RegExp(cleanedKeyword, 'gi');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (cleanedText.match(regex)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  score++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  return {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: item.type,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  score: score,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  matchingKeywords: item.keywords.filter(keyword => new RegExp(keyword.replace(/\s+/g, ''), 'gi').test(text.replace(/\s+/g, '')))
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // ì ìˆ˜ê°€ ë†’ì€ ìˆœì„œë¡œ ì •ë ¬í•˜ê³  ìƒìœ„ 3ê°œ ì¶”ì¶œ
Â  Â  Â  Â  Â  Â  const sortedScores = scores.filter(s => s.score > 0).sort((a, b) => b.score - a.score).slice(0, 3);

Â  Â  Â  Â  Â  Â  recommendationList.innerHTML = '';
Â  Â  Â  Â  Â  Â  if (sortedScores.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  typeRecommendationBox.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  sortedScores.forEach(s => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const p = document.createElement('p');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p.textContent = `${s.type} (${s.score}ê°œ ì¼ì¹˜)`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  recommendationList.appendChild(p);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  typeRecommendationBox.style.display = 'none';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // ê¸°ì¡´ ì»¤ì„œ ìœ„ì¹˜ ê´€ë¦¬ í•¨ìˆ˜ (ìƒëµ ì—†ì´ ìœ ì§€)
Â  Â  Â  Â  function getCaretCharacterOffsetWithin(element) {
Â  Â  Â  Â  Â  Â  let caretOffset = 0;
Â  Â  Â  Â  Â  Â  const doc = element.ownerDocument || element.document;
Â  Â  Â  Â  Â  Â  const win = doc.defaultView || doc.parentWindow;
Â  Â  Â  Â  Â  Â  const sel = win.getSelection();
Â  Â  Â  Â  Â  Â  if (sel.rangeCount > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  const range = sel.getRangeAt(0);
Â  Â  Â  Â  Â  Â  Â  Â  const preCaretRange = range.cloneRange();
Â  Â  Â  Â  Â  Â  Â  Â  preCaretRange.selectNodeContents(element);
Â  Â  Â  Â  Â  Â  Â  Â  preCaretRange.setEnd(range.endContainer, range.endOffset);
Â  Â  Â  Â  Â  Â  Â  Â  caretOffset = preCaretRange.toString().length;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return caretOffset;
Â  Â  Â  Â  }

Â  Â  Â  Â  function setCaretPosition(element, offset) {
Â  Â  Â  Â  Â  Â  const doc = element.ownerDocument || element.document;
Â  Â  Â  Â  Â  Â  const win = doc.defaultView || doc.parentWindow;
Â  Â  Â  Â  Â  Â  const sel = win.getSelection();
Â  Â  Â  Â  Â  Â  let currentOffset = 0;
Â  Â  Â  Â  Â  Â  let found = false;

Â  Â  Â  Â  Â  Â  function traverse(node) {
Â  Â  Â  Â  Â  Â  Â  Â  if (found) return;
Â  Â  Â  Â  Â  Â  Â  Â  if (node.nodeType === Node.TEXT_NODE) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const nextOffset = currentOffset + node.length;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (offset <= nextOffset) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const range = doc.createRange();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  range.setStart(node, offset - currentOffset);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  range.collapse(true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sel.removeAllRanges();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sel.addRange(range);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  found = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentOffset = nextOffset;
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < node.childNodes.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  traverse(node.childNodes[i]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (found) break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  traverse(element);
Â  Â  Â  Â  }

Â  Â  Â  Â  // ğŸ”’ ë³´ì•ˆ ìƒíƒœ ê°ì‹œ
Â  Â  Â  Â  const statusBox = document.getElementById('securityStatus');
Â  Â  Â  Â  statusBox.textContent = "ğŸ”’ ë³´ì•ˆ ìƒíƒœ: ì•ˆì „ â€” ì™¸ë¶€ ì „ì†¡ ì—†ìŒ";
Â  Â  Â  Â  statusBox.style.color = "white";
Â  Â  Â  Â  statusBox.style.fontSize = "0.9em";

Â  Â  Â  Â  const originalFetch = window.fetch;
Â  Â  Â  Â  window.fetch = function(...args) {
Â  Â  Â  Â  Â  Â  statusBox.textContent = "ğŸš¨ ë³´ì•ˆ ê²½ê³ : ì™¸ë¶€ë¡œ ë°ì´í„° ì „ì†¡ ì‹œë„ ê°ì§€ë¨!";
Â  Â  Â  Â  Â  Â  statusBox.style.backgroundColor = "red";
Â  Â  Â  Â  Â  Â  statusBox.style.fontSize = "0.9em";
Â  Â  Â  Â  Â  Â  return originalFetch.apply(this, args);
Â  Â  Â  Â  };

Â  Â  Â  Â  const originalXHR = window.XMLHttpRequest;
Â  Â  Â  Â  function MonitorXHR() {
Â  Â  Â  Â  Â  Â  const xhr = new originalXHR();
Â  Â  Â  Â  Â  Â  xhr.addEventListener('loadstart', () => {
Â  Â  Â  Â  Â  Â  Â  Â  statusBox.textContent = "ğŸš¨ ë³´ì•ˆ ê²½ê³ : ì™¸ë¶€ë¡œ ë°ì´í„° ì „ì†¡ ì‹œë„ ê°ì§€ë¨!";
Â  Â  Â  Â  Â  Â  Â  Â  statusBox.style.backgroundColor = "red";
Â  Â  Â  Â  Â  Â  Â  Â  statusBox.style.fontSize = "0.9em";
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  return xhr;
Â  Â  Â  Â  }
Â  Â  Â  Â  window.XMLHttpRequest = MonitorXHR;

Â  Â  Â  Â  // ğŸ“² ì„¤ì¹˜ ì•ˆë‚´ íŒì—… UI
Â  Â  Â  Â  let deferredPrompt;
Â  Â  Â  Â  const installPopup = document.getElementById('installPopup');
Â  Â  Â  Â  const confirmInstall = document.getElementById('confirmInstall');
Â  Â  Â  Â  const cancelInstall = document.getElementById('cancelInstall');

Â  Â  Â  Â  window.addEventListener('beforeinstallprompt', (e) => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  deferredPrompt = e;
Â  Â  Â  Â  Â  Â  installPopup.style.display = 'block';
Â  Â  Â  Â  });

Â  Â  Â  Â  window.addEventListener('appinstalled', () => {
Â  Â  Â  Â  Â  Â  installPopup.style.display = 'none';
Â  Â  Â  Â  });

Â  Â  Â  Â  confirmInstall.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  installPopup.style.display = 'none';
Â  Â  Â  Â  Â  Â  if (deferredPrompt) {
Â  Â  Â  Â  Â  Â  Â  Â  deferredPrompt.prompt();
Â  Â  Â  Â  Â  Â  Â  Â  deferredPrompt.userChoice.then(choiceResult => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (choiceResult.outcome === 'accepted') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ì•± ì„¤ì¹˜ ì™„ë£Œ');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ì‚¬ìš©ìê°€ ì„¤ì¹˜ë¥¼ ì·¨ì†Œí•¨');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  deferredPrompt = null;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  alert('ì„¤ì¹˜ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” í™˜ê²½ì…ë‹ˆë‹¤.');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  cancelInstall.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  installPopup.style.display = 'none';
Â  Â  Â  Â  Â  Â  deferredPrompt = null;
Â  Â  Â  Â  });

Â  Â  Â  Â  // âœ… service worker ë“±ë¡
Â  Â  Â  Â  if ('serviceWorker' in navigator) {
Â  Â  Â  Â  Â  Â  navigator.serviceWorker.register('service-worker.js')
Â  Â  Â  Â  Â  Â  Â  Â  .then(() => console.log('âœ… Service Worker ë“±ë¡ ì™„ë£Œ'))
Â  Â  Â  Â  Â  Â  Â  Â  .catch(err => console.error('âŒ Service Worker ë“±ë¡ ì‹¤íŒ¨:', err));
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>